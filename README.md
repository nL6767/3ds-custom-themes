# 3ds-custom-theme
shty doc about creating a custom 3DS theme with properly looping background music for Anemone.


## 1. Requirements

### 1.1 - Hardware
- modded 3ds/2ds with sd card
- sd card reader for your pc or built in sd card port 

### 1.2 - Software

  - [Usagi Theme Editor](https://github.com/usagirei/3DS-Theme-Editor)
  - [ImageResizer](https://www.iloveimg.com/resize-image) (resize images to required res.)
  - [Audacity](https://www.audacityteam.org/) (optional, for trimming MP3s)
  - [Vocalremover](https://vocalremover.org/cutter) (better mp3 trimmer)
  - [LoopingAudioConverter](https://github.com/libertyernie/LoopingAudioConverter) ( MP3 to BCSTM conversion)
  - [ThemePlaza](https://themeplaza.art/) (Automatically generates a downloadable zip to dump into  sd card)

### 1.3 Multimedia

- Picture for top screen 1024x256
- Picture for bottom screen 1024x256
- catchy Audio/song for your theme (optional)


## 2. Steps

1. Prepare all picture related multimedia assets, make them correct size with ImageResizer or any tool that lets you change image resolution (photoshop, any other onlinetool etc)
2. Make a empty folder and name it after your theme Ex; WhateverThemeUsagi
3. open usagi theme editor -> Image -> Add your pictures to top + bottom screen. You will see them immedately in the preview


<img width="401" height="226" alt="Screenshot 2026-01-24 234619" src="https://github.com/user-attachments/assets/8fcb4839-3dea-4cb8-bb4a-fd96f64df874" />

3. inside usagi go to flags -> enable the flags you want to edit (dont touch the audio flag yet)


<img width="1172" height="587" alt="Screenshot 2026-01-24 234651" src="https://github.com/user-attachments/assets/1047cbdb-1e8a-4463-ac05-e7e55ddcddf8" />

4. for easier edit enable each flag one by one, after enabling one flag inside usagi go from flags to -> colors and start editing. once you like the changes go to the next flag.
5. once you reach the backgroundmusic-flag before continueing -> go to file -> save as -> chose your empty folder as container for your body_lz.bin DO NOT CHANGE THIS FILE NAME OR DATATYPE
6. Check if file got saved -> close usagi -> reopen -> click on file -> open -> chose your freshly made body_lz.bin. If it opens in usagi and your theme shows up you ve done all correctly so far.
7. close usagi again and open LoopingAudioConverter
8. dump your desired theme song (mp3 / wav / ogg) into the converter and chose following options;

<img width="529" height="461" alt="Screenshot 2026-01-25 000123" src="https://github.com/user-attachments/assets/40c7b4fb-18ef-4584-9883-21aefb79a82a" />

9. You need to select BCSTM as output format and change Export full audio to loop only otherwise your theme song will play only once if you re in the main DS menu and only restart once you enter it frshly
10. Convert Audiofile
11. Check your filesize of the new BCSTM File you will find it inside loopingaudioconverter folder inside the outputs folder. The filesize needs to be under 3.2 Mb otherwise themeplaza will reject it.
12. (optional) if you dont want to mess with theme plaza at all you dont have to worry about filesize it will still work you will just have to zip the theme folder manually yourself after finishing and add creatortextfile (name.txt) , icon.png and other files by yourself for anemone (NOT RECOMMENDED)
13. If filesize is ok copy/cut the bcstm file and dump it into your theme folder
14. change the name bcstm file to BGM.bcstm
15. close the audio converter and reopen usagi
16. enable the background music flag -> You should now be able to play your theme song inside the editor. listen to it once fully and check if it loops after finish. if not then something went wrong with the audio converter you need to retry but it should work.
17. if everything works you can save your theme again and close usagi. Your theme folder should now contain these files; BGM.bcstm body_lz.bin info.smdh preview.png
18. last step is go to ThemePlaza homepage and make an account with preferable a throw away e-mail -> upload all required files (dont worry about copyright etc you can delete it from the page after) Once you uploaded go to your theme -> download .it should download a zip file
19. once you have the zip you can just dump it into your sd card under SD;Themes

Now just put your sd back inside your ds -> start anemone -> select your theme yaaay







## 3. Theme Folder Structure (zip)

Example_Theme/
- BGM.bcstm
- body_LZ.bin
- info.smdh
- preview.png

- other files generated by ThemePlaza (including author metadata and auto converted ogg file)

